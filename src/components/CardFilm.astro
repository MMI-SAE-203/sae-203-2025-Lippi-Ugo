---
import { formatDate } from '../js/helpers';
import ImgPb from './ImgPb.astro';
const { ...film } = Astro.props;
---

<article
    class="group col-span-4 grid grid-cols-1 grid-rows-[auto_1fr] lg:grid-cols-[4fr_11fr] lg:grid-rows-1"
  >

    <ImgPb
      record={film}
      field="affiche"
      alt={film.titre}
      classPicture="col-start-1 row-start-1 w-full h-auto object-cover"
      classImg="object-cover w-full h-full"
    />

    <div class="z-[2] col-span-1 col-start-1 lg:col-start-2 row-start-2 lg:row-start-1 space-y-4 bg-white p-6">
      <h3 class="z-[1] col-start-1 row-start-1 my-6 mr-4 self-end font-mono text-3xl text-white">
          <a href={`/films/${film.id}`}>{film.titre}</a>
      </h3>
      <p class="uppercase">{ formatDate(film.date_projection) }</p>
      <p set:html={film.description}></p>
      <a
        href={`/films/${film.id}`}
        class="inline-block border-b-2 border-black uppercase"
        >Plus d'info</a
      >
    </div>
 </article>